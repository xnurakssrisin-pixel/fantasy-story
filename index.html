<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏ï‡∏≥‡∏ô‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏õ‡πà‡∏≤‡∏°‡∏´‡∏±‡∏®‡∏à‡∏£‡∏£‡∏¢‡πå</title>
<style>
    body {
        font-family: 'Prompt', sans-serif;
        background-color: #1e1e2e;
        color: #fff;
        margin: 0;
        padding: 0;
        text-align: center;
    }
    #game {
        max-width: 600px;
        margin: auto;
        padding: 20px;
    }
    button {
        background: #4cafef;
        border: none;
        padding: 10px 20px;
        color: white;
        margin: 5px;
        border-radius: 5px;
        cursor: pointer;
    }
    button:hover {
        background: #3b8fd9;
    }
    #image {
        width: 100%;
        max-height: 250px;
        object-fit: cover;
        border-radius: 8px;
        margin-bottom: 15px;
    }
    #hp-bar {
        width: 100%;
        background-color: #444;
        border-radius: 5px;
        margin: 10px 0;
        height: 20px;
    }
    #hp {
        height: 100%;
        width: 100%;
        background-color: #4caf50;
        border-radius: 5px;
        transition: width 0.5s;
    }
</style>
</head>
<body>
<div id="game">
    <h1>‡∏ï‡∏≥‡∏ô‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏õ‡πà‡∏≤‡∏°‡∏´‡∏±‡∏®‡∏à‡∏£‡∏£‡∏¢‡πå</h1>
    <div id="hp-bar"><div id="hp"></div></div>
    <img id="image" src="https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=600" alt="">
    <p id="story">‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏∑‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏õ‡πà‡∏≤‡∏°‡∏∑‡∏î ‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡∏£‡∏∞‡∏ã‡∏¥‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡∏±‡∏•‡πÅ‡∏´‡πà‡∏á‡πÅ‡∏™‡∏á...</p>
    <div id="choices">
        <button onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
    </div>
</div>

<audio id="bg-music" loop>
    <source src="https://cdn.pixabay.com/download/audio/2023/06/09/audio_0b1cc58b07.mp3" type="audio/mpeg">
</audio>

<script>
let hp = 100;
const storyElement = document.getElementById('story');
const choicesElement = document.getElementById('choices');
const imageElement = document.getElementById('image');
const hpBar = document.getElementById('hp');
const bgMusic = document.getElementById("bg-music");

const scenes = {
    start: {
        text: "‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏∑‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏õ‡πà‡∏≤‡∏°‡∏∑‡∏î ‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡∏£‡∏∞‡∏ã‡∏¥‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏´‡πâ‡πÑ‡∏õ‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡∏±‡∏•‡πÅ‡∏´‡πà‡∏á‡πÅ‡∏™‡∏á...",
        img: "https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=600",
        choices: [
            { text: "‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡πÅ‡∏°‡πà‡∏ô‡πâ‡∏≥", next: "river" },
            { text: "‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏†‡∏π‡πÄ‡∏Ç‡∏≤", next: "mountain" }
        ]
    },
    river: {
        text: "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏•‡∏µ‡∏¢‡∏ö‡πÅ‡∏°‡πà‡∏ô‡πâ‡∏≥ ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏™‡∏á‡∏ö...‡πÅ‡∏ï‡πà‡∏°‡∏µ‡πÄ‡∏á‡∏≤‡∏î‡∏≥‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÉ‡∏ï‡πâ‡∏ô‡πâ‡∏≥ (HP -20)",
        img: "https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=600",
        damage: 20,
        choices: [
            { text: "‡∏Ç‡πâ‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡πâ‡∏≥", next: "village" },
            { text: "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö", next: "mountain" }
        ]
    },
    mountain: {
        text: "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏î‡∏¥‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏†‡∏π‡πÄ‡∏Ç‡∏≤‡∏™‡∏π‡∏á ‡∏•‡∏°‡πÅ‡∏£‡∏á‡πÅ‡∏•‡∏∞‡∏´‡∏¥‡∏°‡∏∞‡∏ï‡∏Å‡∏´‡∏ô‡∏±‡∏Å (HP -15)",
        img: "https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=600",
        damage: 15,
        choices: [
            { text: "‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å", next: "village" },
            { text: "‡∏ù‡πà‡∏≤‡∏û‡∏≤‡∏¢‡∏∏‡πÑ‡∏õ‡∏ï‡πà‡∏≠", next: "shadow" }
        ]
    },
    village: {
        text: "‡∏Ñ‡∏∏‡∏ì‡∏û‡∏ö‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏ä‡∏≤‡∏ß‡∏ö‡πâ‡∏≤‡∏ô‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏ã‡πà‡∏≠‡∏°‡∏™‡∏∞‡∏û‡∏≤‡∏ô",
        img: "https://images.unsplash.com/photo-1506748686214-e9df14d4d9d0?auto=format&fit=crop&w=600",
        choices: [
            { text: "‡∏ä‡πà‡∏ß‡∏¢‡∏ã‡πà‡∏≠‡∏°‡∏™‡∏∞‡∏û‡∏≤‡∏ô (HP +10)", heal: 10, next: "shadow" },
            { text: "‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡∏ï‡πà‡∏≠", next: "shadow" }
        ]
    },
    shadow: {
        text: "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏ú‡∏ä‡∏¥‡∏ç‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏≤‡∏°‡∏∑‡∏î‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ!",
        img: "https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=600",
        choices: [
            { text: "‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏ó‡∏¢‡πå‡πÅ‡∏™‡∏á", next: "lightWin" },
            { text: "‡πÉ‡∏ä‡πâ‡∏î‡∏≤‡∏ö‡πÇ‡∏ö‡∏£‡∏≤‡∏ì", next: "swordWin" }
        ]
    },
    lightWin: {
        text: "‡∏Ñ‡∏∏‡∏ì‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏à‡∏ô‡πÄ‡∏á‡∏≤‡∏°‡∏∑‡∏î‡∏™‡∏•‡∏≤‡∏¢ ‡∏≠‡∏≤‡∏ì‡∏≤‡∏à‡∏±‡∏Å‡∏£‡∏£‡∏≠‡∏î‡πÅ‡∏•‡πâ‡∏ß! üéâ",
        img: "https://images.unsplash.com/photo-1503264116251-35a269479413?auto=format&fit=crop&w=600",
        choices: [
            { text: "‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà", next: "start", reset: true }
        ]
    },
    swordWin: {
        text: "‡∏Ñ‡∏∏‡∏ì‡∏ü‡∏≤‡∏î‡∏î‡∏≤‡∏ö‡πÇ‡∏ö‡∏£‡∏≤‡∏ì‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡πÄ‡∏á‡∏≤‡∏°‡∏∑‡∏î ‡∏≠‡∏≤‡∏ì‡∏≤‡∏à‡∏±‡∏Å‡∏£‡∏£‡∏≠‡∏î‡πÅ‡∏•‡πâ‡∏ß! ‚öîÔ∏è",
        img: "https://images.unsplash.com/photo-1470770841072-f978cf4d019e?auto=format&fit=crop&w=600",
        choices: [
            { text: "‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà", next: "start", reset: true }
        ]
    }
};

function startGame() {
    // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏´‡∏•‡∏±‡∏á‡∏°‡∏µ interaction
    bgMusic.play().catch(()=>{});
    showScene("start");
}

function showScene(sceneName) {
    const scene = scenes[sceneName];

    // ‡∏õ‡∏£‡∏±‡∏ö HP
    if(scene.damage) hp = Math.max(hp - scene.damage, 0);
    if(scene.heal) hp = Math.min(hp + scene.heal, 100);
    if(scene.choices.some(c => c.reset)) hp = 100;

    // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏†‡∏≤‡∏û
    storyElement.textContent = scene.text;
    imageElement.src = scene.img;
    hpBar.style.width = hp + "%";

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö HP ‡∏´‡∏°‡∏î
    if(hp <= 0){
        storyElement.textContent = "‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏î‡∏û‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏•‡πâ‡∏°‡∏•‡∏á... ‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß!";
        choicesElement.innerHTML = "";
        const restartBtn = document.createElement("button");
        restartBtn.textContent = "‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà";
        restartBtn.onclick = () => showScene("start");
        choicesElement.appendChild(restartBtn);
        return;
    }

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
    choicesElement.innerHTML = "";
    scene.choices.forEach(choice => {
        const btn = document.createElement("button");
        btn.textContent = choice.text;
        btn.onclick = () => showScene(choice.next);
        choicesElement.appendChild(btn);
    });
}
</script>
</body>
</html>